<div class="conta">
    <img src="../../../assets/user.png" width="50px" height="50px">
    <p>Avaliador</p>
    <button class="topo-sair" (click)="logout()">Sair</button>
</div>
<div class="container">
    <div class="card card-body" style="margin-top: 10px; width: 100%; padding: 15px;">
        <div class="filtros">
            <h2>Filtros</h2>

            <form class="form" [formGroup]="filtrarForm">
                <div class="label-input">
                    <label class="labels">Nome</label>
                    <input type="text" placeholder="Nome do candidadto" class="form-control input-nome"
                        formControlName="nome">
                </div>

                <div class="label-input">
                    <label class="labels">Oficio</label>
                    <select class="custom-select form-control input-nome" formControlName="oficio" required>
                        <option value="null" selected>Selecione o oficio</option>
                        <option *ngFor="let item of oficios" [value]="item.oficio">
                            {{ item.oficio }}
                        </option>
                    </select>
                </div>

                <div class="label-input">
                    <label class="labels">Data</label>
                    <input type="date" id="filtro-data" class="form-control input-nome" formControlName="dataInclusao">
                </div>
                <input type="submit" value="Filtrar" class="btn btn-primary btn-tamanho" (click)="filtrar()">
                <button type="button" class="btn btn-secondary r-2" (click)="listar()"
                    style="margin-left: 5px; padding: 4px;">
                    <span class="fa fa-trash"></span> Limpar Filtros
                </button>
            </form>
            <div class="row">
                <div class="col-md-12">
                    <div class="alert alert-danger" role="alert" *ngIf="msgalertFiltro.length > 0"
                        style="padding:3px; margin-top: 5px;">
                        <b style="color: red">*</b> {{ msgalertFiltro }}
                    </div>
                </div>
            </div>
        </div>

        <hr class="border-light">
        <table class="table table-striped table-bordered table-sm row-border hover tabela">
            <thead>
                <tr>
                    <th style="width: 35%">Nome</th>
                    <th style="width: 30%;">CPF</th>
                    <th style="width: 25%;">Oficio</th>
                    <th style="width: 10%;">Ações</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of candidatos">
                    <td> {{item.nome}} </td>
                    <td> {{item.cpf}} </td>
                    <td> {{item.oficio}} </td>
                    <td style="text-align: center;">
                        <button class="btn btn-primary" style="padding: 4px;" (click)="avaliar(item.idCandidato)">
                            <span></span>Avaliar
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="col-md-12">
                <div class="alert alert-danger" role="alert" *ngIf="msgalert.length > 0"
                    style="padding:3px; margin-top: 5px;">
                    <b style="color: red">*</b> {{ msgalert }}
                </div>
            </div>
        </div>
    </div>
</div>

<app-prova1 *ngIf="abrirProva" [idCandidato]="idCandidatoAvaliar"></app-prova1>